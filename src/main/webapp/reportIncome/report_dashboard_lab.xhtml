<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:pe="http://primefaces.org/ui/extensions"
      xmlns:hr="http://java.sun.com/jsf/composite/autocomplete">

    <h:body>
        <ui:composition template="/resources/template/template.xhtml">

            <ui:define name="content">

                <h:form >
                    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
                    <script type="text/javascript">
                        google.charts.load('current', {packages: ['corechart', 'line']});
                        google.charts.setOnLoadCallback(drawCurveTypes);

                        function drawCurveTypes() {
                            var rowdata =#{googleChartController.drawlabCountLast30days()}
                            var data = google.visualization.arrayToDataTable(rowdata);
                            var options = {
                                hAxis: {
                                    title: 'Date'
                                },
                                vAxis: {
                                    title: 'Count'
                                }
                            };

                            var chart = new google.visualization.LineChart(document.getElementById('chart_lab_count_last_month'));
                            chart.draw(data, options);
                        }
                    </script>
                    <script type="text/javascript">
                        google.charts.load('current', {packages: ['corechart', 'line']});
                        google.charts.setOnLoadCallback(drawCurveTypes);

                        function drawCurveTypes() {
                            var rowdata =#{googleChartController.drawlabCountLast6Months()}
                            var data = google.visualization.arrayToDataTable(rowdata);
                            var options = {
                                hAxis: {
                                    title: 'Month'
                                },
                                vAxis: {
                                    title: 'Count'
                                }
                            };

                            var chart = new google.visualization.LineChart(document.getElementById('chart_lab_count_last_12_month'));
                            chart.draw(data, options);
                        }
                    </script>
                    <script type="text/javascript">
                        google.charts.load('current', {packages: ['corechart', 'line']});
                        google.charts.setOnLoadCallback(drawCurveTypes);

                        function drawCurveTypes() {
                            var rowdata =#{googleChartController.drawlabCountLast5Years()}
                            var data = google.visualization.arrayToDataTable(rowdata);
                            var options = {
                                hAxis: {
                                    title: 'Year'
                                },
                                vAxis: {
                                    title: 'Count'
                                }
                            };

                            var chart = new google.visualization.LineChart(document.getElementById('chart_lab_count_last_5_years'));
                            chart.draw(data, options);
                        }
                    </script>
                    <script type="text/javascript">
                        google.charts.load('current', {'packages': ['corechart']});
                        google.charts.setOnLoadCallback(drawChart);
                        function drawChart() {
                            var rowdata =#{googleChartController.drawInvestigationCountYesterday()}
                            var data = google.visualization.arrayToDataTable(rowdata);
                            var options = {
//                                title: 'Employee Head Count',
//                                is3D: true,
                                legend: { position: 'top', maxLines: 3 },
                                isStacked: true,
                                
                            };
                            var chart = new google.visualization.ColumnChart(document.getElementById('chart_investigation_count'));
                            chart.draw(data, options);
                        }
                    </script>
                    <script type="text/javascript">
                        google.charts.load('current', {'packages': ['corechart']});
                        google.charts.setOnLoadCallback(drawChart);
                        function drawChart() {
                            var rowdata =#{googleChartController.drawInvestigationCountLast30Days()}
                            var data = google.visualization.arrayToDataTable(rowdata);
                            var options = {
//                                title: 'Employee Head Count',
//                                is3D: true,
                                legend: { position: 'top', maxLines: 3 },
                                isStacked: true,
                                
                            };
                            var chart = new google.visualization.ColumnChart(document.getElementById('chart_investigation_count_last_month'));
                            chart.draw(data, options);
                        }
                    </script>
                    <script type="text/javascript">
                        google.charts.load('current', {'packages': ['corechart']});
                        google.charts.setOnLoadCallback(drawChart);
                        function drawChart() {
                            var rowdata =#{googleChartController.drawMachineViseCountYesterday()}
                            var data = google.visualization.arrayToDataTable(rowdata);
                            var options = {
//                                title: 'Employee Head Count',
//                                is3D: true,
                                legend: { position: 'top', maxLines: 3 },
                                isStacked: true,
                                
                            };
                            var chart = new google.visualization.ColumnChart(document.getElementById('chart_machine_count'));
                            chart.draw(data, options);
                        }
                    </script>
                    <script type="text/javascript">
                        google.charts.load('current', {'packages': ['corechart']});
                        google.charts.setOnLoadCallback(drawChart);
                        function drawChart() {
                            var rowdata =#{googleChartController.drawMachineViseCountLast30Days()}
                            var data = google.visualization.arrayToDataTable(rowdata);
                            var options = {
//                                title: 'Employee Head Count',
//                                is3D: true,
                                legend: { position: 'top', maxLines: 3 },
                                isStacked: true,
                                
                            };
                            var chart = new google.visualization.ColumnChart(document.getElementById('chart_machine_count_last_month'));
                            chart.draw(data, options);
                        }
                    </script>
                    <center>
                        <p:panel>
                            <h1 style="color: #107710">RUHUNU HOSPITAL DASHBOARD</h1>
                            <h1 style="color: #107710">Laboratory</h1>
                            <h3>Welcome <h:outputLabel value="#{sessionController.loggedUser.webUserPerson.name}"/></h3>
                            <h3>
                                <h:outputLabel value="#{commonController.currentDateTime}">
                                    <f:convertDateTime pattern="yyyy MM dd" />
                                </h:outputLabel>
                            </h3>
                        </p:panel>
                        <p:panel>
                            <h:panelGrid>
                                <p:panel header="Channel Counts Of Last 30 Days" >
                                    <div id="chart_lab_count_last_month" style="width: 1500px; height: 500px;"></div>
                                </p:panel>
                            </h:panelGrid>
                            <h:panelGrid columns="2">
                                <p:panel header="Channel Counts Of Last 6 Months" >
                                    <div id="chart_lab_count_last_12_month" style="width: 740px; height: 500px;"></div>
                                </p:panel>
                                <p:panel header="Channel Counts Of Last 5 Years" >
                                    <div id="chart_lab_count_last_5_years" style="width: 740px; height: 500px;"></div>
                                </p:panel>
                            </h:panelGrid>
<!--                            <h:panelGrid>
                                <p:panel header="Channel Counts Of Last 5 Years" >
                                    <div id="chart_lab_count_last_5_years" style="width: 740px; height: 500px;"></div>
                                </p:panel>
                            </h:panelGrid>-->
                            <h:panelGrid columns="2">
                                <p:panel header="Investigation Count Yesterday">
                                    <div id="chart_investigation_count" style="width: 1500px; height: 500px;"></div>
                                </p:panel>
                            </h:panelGrid>
                            <h:panelGrid columns="2">
                                <p:panel header="Investigation Count Last 30 Days">
                                    <div id="chart_investigation_count_last_month" style="width: 1500px; height: 500px;"></div>
                                </p:panel>
                            </h:panelGrid>
                            <h:panelGrid columns="2">
                                <p:panel header="Machine Vise Count Yesterday">
                                    <div id="chart_machine_count" style="width: 740px; height: 500px;"></div>
                                </p:panel>
                                <p:panel header="Machine Vise Count Last 30 Days">
                                    <div id="chart_machine_count_last_month" style="width: 740px; height: 500px;"></div>
                                </p:panel>
                            </h:panelGrid>
                        </p:panel>
                    </center>
                </h:form>
            </ui:define>

        </ui:composition>

    </h:body>
</html>
